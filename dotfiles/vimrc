source $VIMRUNTIME/defaults.vim

call plug#begin()

Plug 'airblade/vim-rooter'
Plug 'csexton/trailertrash.vim'
Plug 'editorconfig/editorconfig-vim'
Plug 'ervandew/supertab'
Plug 'h1mesuke/vim-alignta'
Plug 'jremmen/vim-ripgrep'
Plug 'junegunn/fzf.vim'
Plug 'kana/vim-textobj-indent'
Plug 'kana/vim-textobj-user'
Plug 'machakann/vim-swap'
Plug 'morhetz/gruvbox'
Plug 'rhysd/vim-textobj-ruby'
Plug 'scrooloose/syntastic'
Plug 'sheerun/vim-polyglot'
Plug 'tpope/vim-commentary'
Plug 'tpope/vim-endwise'
Plug 'tpope/vim-eunuch'
Plug 'tpope/vim-fugitive'
Plug 'tpope/vim-rails'
Plug 'tpope/vim-repeat'
Plug 'tpope/vim-sensible'
Plug 'tpope/vim-sleuth'
Plug 'tpope/vim-surround'
Plug 'vim-airline/vim-airline'

call plug#end()

set fileencodings=ucs-bom,utf-8,utf-16,utf-16le,cp932,eucjp,iso2022jp
set fileformats=unix,dos,mac

set ambiwidth=double
set background=dark
set breakindent
set cursorline
set hidden
set lazyredraw
set list
set matchtime=1
set number
set showmatch
set termguicolors
set virtualedit=block
set wildmode=list:longest,list:full

if executable('rg')
  set grepprg=rg\ --vimgrep\ --no-heading
  set grepformat=%f:%l:%c:%m,%f:%l:%m
endif

let &t_8f = "\<Esc>[38;2;%lu;%lu;%lum"
let &t_8b = "\<Esc>[48;2;%lu;%lu;%lum"

let g:go_fmt_command = 'goimports'
let g:gruvbox_italic = 1
let g:jsx_ext_required = 0
let g:netrw_altv = 1
let g:netrw_liststyle = 3
let g:rooter_patterns = ['ember-cli-build.js', '.git', '.git/']
let g:syntastic_javascript_checkers = ['eslint']
let g:syntastic_ruby_mri_args = '-W1'

colorscheme gruvbox

cnoremap <C-x> <C-r>=expand('%:p:h')<CR>/

augroup vimrc
  autocmd!

  autocmd QuickFixCmdPost make,grep,grepadd,vimgrep,vimgrepadd cwin
  autocmd QuickFixCmdPost lmake,lgrep,lgrepadd,lvimgrep,lvimgrepadd lwin

  autocmd FileType * setlocal formatoptions-=r formatoptions-=r
augroup END
